<p style="color: green"><%= notice %></p>

<% content_for :title, "Books" %>

<h1>Books</h1>

<div class="row">
  <div class="col-md-8">
    <div id="books">
      <% @books.each do |book| %>
        <div class="panel panel-default">
          <div class="panel-body">
            <%= render book %>
            <p>
              <%= link_to "Show this book", book, class: "btn btn-primary btn-sm" %>
            </p>
          </div>
        </div>
      <% end %>
    </div>
    <%= paginate @books %>
  </div>
  <div class="col-md-4">
    <h3>Search Books</h3>
    <%= form_tag books_path, method: :get, class: "form-inline" do %>
      <div class="form-group">
        <%= text_field_tag :query, params[:query], placeholder: "Search by title or description", class: "form-control" %>
      </div>
      <%= submit_tag "Search", class: "btn btn-default" %>
    <% end %>
    <h3>Filter by Genre</h3>
    <%= form_tag books_path, method: :get do %>
      <div class="form-group">
        <%= select_tag :genre_id, options_from_collection_for_select(Genre.all, :id, :name, params[:genre_id]), include_blank: "All Genres", class: "form-control" %>
      </div>
      <%= submit_tag "Filter", class: "btn btn-default" %>
    <% end %>
  </div>
</div>

<%= link_to "New book", new_book_path, class: "btn btn-success" %>
